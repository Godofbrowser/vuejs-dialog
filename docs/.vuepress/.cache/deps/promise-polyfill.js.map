{
  "version": 3,
  "sources": ["../../../../node_modules/promise-polyfill/src/finally.js", "../../../../node_modules/promise-polyfill/src/allSettled.js", "../../../../node_modules/promise-polyfill/src/any.js", "../../../../node_modules/promise-polyfill/src/index.js"],
  "sourcesContent": ["/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      // @ts-ignore\n      return constructor.resolve(callback()).then(function() {\n        // @ts-ignore\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n", "function allSettled(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(\n        new TypeError(\n          typeof arr +\n            ' ' +\n            arr +\n            ' is not iterable(cannot read property Symbol(Symbol.iterator))'\n        )\n      );\n    }\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        var then = val.then;\n        if (typeof then === 'function') {\n          then.call(\n            val,\n            function(val) {\n              res(i, val);\n            },\n            function(e) {\n              args[i] = { status: 'rejected', reason: e };\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            }\n          );\n          return;\n        }\n      }\n      args[i] = { status: 'fulfilled', value: val };\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n}\n\nexport default allSettled;\n", "/**\n * @constructor\n */\nfunction AggregateError(errors, message) {\n  (this.name = 'AggregateError'), (this.errors = errors);\n  this.message = message || '';\n}\nAggregateError.prototype = Error.prototype;\n\nfunction any(arr) {\n  var P = this;\n  return new P(function(resolve, reject) {\n    if (!(arr && typeof arr.length !== 'undefined')) {\n      return reject(new TypeError('Promise.any accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return reject();\n\n    var rejectionReasons = [];\n    for (var i = 0; i < args.length; i++) {\n      try {\n        P.resolve(args[i])\n          .then(resolve)\n          .catch(function(error) {\n            rejectionReasons.push(error);\n            if (rejectionReasons.length === args.length) {\n              reject(\n                new AggregateError(\n                  rejectionReasons,\n                  'All promises were rejected'\n                )\n              );\n            }\n          });\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n  });\n}\n\nexport default any;\n", "import promiseFinally from './finally';\nimport allSettled from './allSettled';\nimport any from './any';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction isArray(x) {\n  return Boolean(x && typeof x.length !== 'undefined');\n}\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.all accepts an array'));\n    }\n\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.any = any;\n\nPromise.allSettled = allSettled;\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!isArray(arr)) {\n      return reject(new TypeError('Promise.race accepts an array'));\n    }\n\n    for (var i = 0, len = arr.length; i < len; i++) {\n      Promise.resolve(arr[i]).then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  // @ts-ignore\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      // @ts-ignore\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n"],
  "mappings": "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",
  "names": ["resolve", "reject", "i", "val", "resolve", "reject", "Promise", "resolve", "reject", "i", "val"]
}
